schema: '2.0'
stages:
  train:
    cmd: python train.py --config configs/train.yaml
    deps:
    - path: dataset_split
      hash: md5
      md5: 227624d5fae92ab573537d1c3139312c.dir
      size: 26296402
      nfiles: 430
    - path: train.py
      hash: md5
      md5: 349648da8a6052e3440e6edcfd57885c
      size: 15474
    params:
      configs/train.yaml:
        data:
          root: ./dataset_split
        model:
          encoder_name: resnet34
          encoder_weights:
          decoder_use_batchnorm: true
          in_channels: 4
          num_classes: 6
        paths:
          output_dir: ./outputs
          model_path: outputs/model.pth
          metrics_path: outputs/metrics.json
          log_file: outputs/log.txt
        training:
          img_size: 256
          batch_size: 16
          epochs: 100
          lr: 0.001
          weight_decay: 0.0001
          num_workers: 4
          seed: 42
          amp: true
          save_best: true
          ignore_index: -1
    outs:
    - path: outputs/metrics.json
      hash: md5
      md5: 814df918adf5904bdd8aabd5858271f0
      size: 435
    - path: outputs/model.pth
      hash: md5
      md5: 19251b89bada4da454c6320f3eb56549
      size: 313302725
